{{/*
  Outputs Open Graph and Twitter Card image meta tags so shared blog posts
  show the cover/featured image on SNS. Uses .Params.featured_image (and
  theme's GetFeaturedImage fallbacks) and ensures absolute URLs.
*/}}
{{ $featured := partial "func/GetFeaturedImage.html" . }}
{{ if $featured }}
  {{/* Convert to absolute URL - handle relative paths from page bundles */}}
  {{ $absoluteURL := $featured }}
  {{ if not (hasPrefix $featured "http://") }}
    {{ if not (hasPrefix $featured "https://") }}
      {{ if hasPrefix $featured "//" }}
        {{ $absoluteURL = printf "https:%s" $featured }}
      {{ else }}
        {{/* Use absURL which should convert relative to absolute */}}
        {{ $absoluteURL = $featured | absURL }}
      {{ end }}
    {{ end }}
  {{ end }}
  <meta property="og:image" content="{{ $absoluteURL }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{ $absoluteURL }}">
{{ end }}
